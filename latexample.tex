%----------
% 插入latex代码及预览
%----------
\definecolor{lstbgcolor}{rgb}{0.9,0.9,0.9}
\lstloadlanguages{[LaTeX]TeX}
 
\newenvironment{latexample}[1][language={[LaTeX]TeX}]
{\lstset{backgroundcolor=\color{lstbgcolor},
    keywordstyle=\color[rgb]{0,0,1},
    commentstyle=\color[rgb]{0.133,0.545,0.133},
    stringstyle=\color[rgb]{0.627,0.126,0.941},
    breaklines=true,
    prebreak = \raisebox{0ex}[0ex][0ex]{\ensuremath{\hookleftarrow}},
    frame=single,
    language={[LaTeX]TeX},
    basicstyle=\footnotesize\ttfamily, #1}
  \VerbatimEnvironment\begin{VerbatimOut}{latexample.verb.out}}
  {\end{VerbatimOut}\noindent
  \\[-0.7em]
  \begin{minipage}{0.5\linewidth}
    \lstinputlisting[]{latexample.verb.out}%
  \end{minipage}\qquad
  \begin{minipage}{0.45\linewidth}
    \input{latexample.verb.out}
  \end{minipage}\\
}

